{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = 'YOUR_API_KEY';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchImages = async (query, page) => {\n  try {\n    const response = await axios.get(BASE_URL, {\n      params: {\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        page: page,\n        per_page: 15,\n      },\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching images:', error);\n  }\n};\n","const galleryList = document.querySelector('.gallery-list');\n\nexport const renderGallery = (images, append = false) => {\n  const markup = images.map(image => `\n    <li class=\"gallery-item\">\n      <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n    </li>\n  `).join('');\n  if (append) {\n    galleryList.insertAdjacentHTML('beforeend', markup);\n  } else {\n    galleryList.innerHTML = markup;\n  }\n};\n","import { fetchImages } from './js/pixabay-api.js';\nimport { renderGallery } from './js/render-functions.js';\n\nlet currentPage = 1;\nlet currentQuery = '';\n\nconst searchForm = document.querySelector('.form-js');\nconst loadMoreButton = document.querySelector('.load-more'); // Додайте цю кнопку у ваш HTML\nconst galleryList = document.querySelector('.gallery-list');\n\nconst handleSubmit = async (event) => {\n  event.preventDefault();\n  currentQuery = event.target.elements.picture.value;\n  currentPage = 1;\n  const data = await fetchImages(currentQuery, currentPage);\n  renderGallery(data.hits);\n  loadMoreButton.classList.add('is-hidden');\n  if (data.totalHits > 15) {\n    loadMoreButton.classList.remove('is-hidden');\n  }\n  scrollToNewImages();\n};\n\nconst handleLoadMore = async () => {\n  currentPage += 1;\n  const data = await fetchImages(currentQuery, currentPage);\n  renderGallery(data.hits, true);\n  if (currentPage * 15 >= data.totalHits) {\n    loadMoreButton.classList.add('is-hidden');\n    alert(\"We're sorry, but you've reached the end of search results.\");\n  }\n  scrollToNewImages();\n};\n\nconst scrollToNewImages = () => {\n  const { height: cardHeight } = galleryList.firstElementChild.getBoundingClientRect();\n  window.scrollBy({\n    top: cardHeight * 2,\n    behavior: 'smooth',\n  });\n};\n\nsearchForm.addEventListener('submit', handleSubmit);\nloadMoreButton.addEventListener('click', handleLoadMore);\n"],"names":["API_KEY","BASE_URL","fetchImages","query","page","axios","error","galleryList","renderGallery","images","append","markup","image","currentPage","currentQuery","searchForm","loadMoreButton","handleSubmit","event","data","scrollToNewImages","handleLoadMore","cardHeight"],"mappings":"svBAEA,MAAMA,EAAU,eACVC,EAAW,2BAEJC,EAAc,MAAOC,EAAOC,IAAS,CAChD,GAAI,CAYF,OAXiB,MAAMC,EAAM,IAAIJ,EAAU,CACzC,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAMC,EACN,SAAU,EACX,CACP,CAAK,GACe,IACjB,OAAQE,EAAO,CACd,QAAQ,MAAM,yBAA0BA,CAAK,CACjD,CACA,ECtBMC,EAAc,SAAS,cAAc,eAAe,EAE7CC,EAAgB,CAACC,EAAQC,EAAS,KAAU,CACvD,MAAMC,EAASF,EAAO,IAAIG,GAAS;AAAA;AAAA,kBAEnBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,GAErD,EAAE,KAAK,EAAE,EACNF,EACFH,EAAY,mBAAmB,YAAaI,CAAM,EAElDJ,EAAY,UAAYI,CAE5B,ECVA,IAAIE,EAAc,EACdC,EAAe,GAEnB,MAAMC,EAAa,SAAS,cAAc,UAAU,EAC9CC,EAAiB,SAAS,cAAc,YAAY,EACpDT,EAAc,SAAS,cAAc,eAAe,EAEpDU,EAAe,MAAOC,GAAU,CACpCA,EAAM,eAAgB,EACtBJ,EAAeI,EAAM,OAAO,SAAS,QAAQ,MAC7CL,EAAc,EACd,MAAMM,EAAO,MAAMjB,EAAYY,EAAcD,CAAW,EACxDL,EAAcW,EAAK,IAAI,EACvBH,EAAe,UAAU,IAAI,WAAW,EACpCG,EAAK,UAAY,IACnBH,EAAe,UAAU,OAAO,WAAW,EAE7CI,EAAmB,CACrB,EAEMC,EAAiB,SAAY,CACjCR,GAAe,EACf,MAAMM,EAAO,MAAMjB,EAAYY,EAAcD,CAAW,EACxDL,EAAcW,EAAK,KAAM,EAAI,EACzBN,EAAc,IAAMM,EAAK,YAC3BH,EAAe,UAAU,IAAI,WAAW,EACxC,MAAM,4DAA4D,GAEpEI,EAAmB,CACrB,EAEMA,EAAoB,IAAM,CAC9B,KAAM,CAAE,OAAQE,CAAU,EAAKf,EAAY,kBAAkB,sBAAuB,EACpF,OAAO,SAAS,CACd,IAAKe,EAAa,EAClB,SAAU,QACd,CAAG,CACH,EAEAP,EAAW,iBAAiB,SAAUE,CAAY,EAClDD,EAAe,iBAAiB,QAASK,CAAc"}